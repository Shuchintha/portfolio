@use '../../styles/variables' as *;
@use '../../styles/mixins' as *;

.about {
  padding-top: calc($nav-height + $space-3xl);

  .about-content {
    display: grid;
    grid-template-columns: 1fr 1.2fr;
    gap: $space-4xl;
    align-items: center;

    @include tablet {
      grid-template-columns: 1fr;
      gap: $space-2xl;
    }
  }

  .about-visual {
    position: relative;

    @include tablet {
      order: -1;
      @include flex-center;
    }

    // ─── Code Editor Card ───
    .code-card {
      width: 100%;
      max-width: 420px;
      margin: 0 auto;
      border-radius: $border-radius;
      overflow: hidden;
      transition: transform $transition-normal, box-shadow $transition-normal;

      [data-theme='dark'] & {
        background: #0d1117;
        border: 1px solid $dark-border;
        box-shadow:
          0 8px 40px rgba(0, 0, 0, 0.5),
          0 0 60px rgba(var(--accent-rgb), 0.06);
      }
      [data-theme='light'] & {
        background: #fafbfc;
        border: 1px solid $light-border;
        box-shadow:
          0 8px 40px rgba(0, 0, 0, 0.08),
          0 0 60px rgba(var(--accent-rgb), 0.04);
      }

      &:hover {
        transform: translateY(-4px);

        [data-theme='dark'] & {
          border-color: rgba(var(--accent-rgb), 0.25);
          box-shadow:
            0 16px 56px rgba(0, 0, 0, 0.6),
            0 0 80px rgba(var(--accent-rgb), 0.1);
        }
        [data-theme='light'] & {
          border-color: rgba(var(--accent-rgb), 0.15);
          box-shadow:
            0 16px 56px rgba(0, 0, 0, 0.12),
            0 0 80px rgba(var(--accent-rgb), 0.06);
        }
      }

      // ─── Title Bar ───
      .code-card-header {
        display: flex;
        align-items: center;
        gap: $space-md;
        padding: $space-sm $space-md;

        [data-theme='dark'] & {
          background: #161b22;
          border-bottom: 1px solid $dark-border;
        }
        [data-theme='light'] & {
          background: #f0f1f3;
          border-bottom: 1px solid $light-border;
        }

        .window-dots {
          display: flex;
          gap: 6px;

          .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;

            &.dot-red    { background: #ff5f57; }
            &.dot-yellow { background: #febc2e; }
            &.dot-green  { background: #28c840; }
          }
        }

        .file-name {
          font-family: $font-mono;
          font-size: 0.75rem;
          letter-spacing: 0.01em;

          [data-theme='dark'] & { color: $dark-text-muted; }
          [data-theme='light'] & { color: $light-text-muted; }
        }
      }

      // ─── Code Body ───
      .code-card-body {
        padding: $space-lg $space-sm;
        font-family: $font-mono;
        font-size: 0.82rem;
        line-height: 1.85;

        @include mobile {
          font-size: 0.72rem;
          padding: $space-md $space-xs;
        }

        .code-line {
          display: flex;
          align-items: center;
          padding: 0 $space-sm;
          border-radius: 4px;
          transition: background $transition-fast;

          &:hover {
            [data-theme='dark'] & { background: rgba(255, 255, 255, 0.03); }
            [data-theme='light'] & { background: rgba(0, 0, 0, 0.03); }
          }

          .line-number {
            width: 28px;
            text-align: right;
            margin-right: $space-md;
            flex-shrink: 0;
            user-select: none;

            [data-theme='dark'] & { color: #484f58; }
            [data-theme='light'] & { color: #b0b8c1; }
          }

          .line-content {
            white-space: nowrap;
          }
        }

        // ─── Syntax Token Colors ───
        .tok-keyword {
          [data-theme='dark'] & { color: #ff7b72; }
          [data-theme='light'] & { color: #cf222e; }
        }
        .tok-variable {
          [data-theme='dark'] & { color: #d2a8ff; }
          [data-theme='light'] & { color: #8250df; }
        }
        .tok-key {
          [data-theme='dark'] & { color: #79c0ff; }
          [data-theme='light'] & { color: #0550ae; }
        }
        .tok-string {
          [data-theme='dark'] & { color: #a5d6ff; }
          [data-theme='light'] & { color: #0a3069; }
        }
        .tok-number {
          color: var(--accent);
          font-weight: 600;
          text-shadow: 0 0 14px rgba(var(--accent-rgb), 0.3);
        }
        .tok-comment {
          font-style: italic;
          [data-theme='dark'] & { color: #484f58; }
          [data-theme='light'] & { color: #8b949e; }
        }
        .tok-plain {
          [data-theme='dark'] & { color: #c9d1d9; }
          [data-theme='light'] & { color: #24292f; }
        }

        // ─── Blinking Cursor ───
        .typing-cursor {
          display: inline-block;
          width: 8px;
          height: 1.05em;
          vertical-align: text-bottom;
          margin-left: 2px;
          animation: blink 1.1s step-end infinite;

          [data-theme='dark'] & { background: $dark-text; }
          [data-theme='light'] & { background: $light-text; }
        }
      }

      // ─── Status Bar ───
      .code-card-footer {
        display: flex;
        align-items: center;
        gap: $space-lg;
        padding: $space-xs $space-md;
        font-family: $font-mono;
        font-size: 0.68rem;

        [data-theme='dark'] & {
          background: #161b22;
          border-top: 1px solid $dark-border;
          color: $dark-text-muted;
        }
        [data-theme='light'] & {
          background: #f0f1f3;
          border-top: 1px solid $light-border;
          color: $light-text-muted;
        }

        .footer-item {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .status-ready {
          margin-left: auto;
        }

        .status-dot {
          width: 6px;
          height: 6px;
          border-radius: 50%;
          background: #28c840;
          display: inline-block;
          animation: pulse 2.5s ease-in-out infinite;
        }
      }
    }
  }

  .about-text {
    .about-intro {
      font-family: $font-mono;
      font-size: 0.9rem;
      color: var(--accent);
      margin-bottom: $space-md;
    }

    .about-description {
      font-size: 1rem;
      font-weight: 400;
      line-height: 1.7;
      letter-spacing: -0.003em;
      margin-bottom: $space-lg;

      [data-theme='dark'] & {
        color: $dark-text-muted;
      }
      [data-theme='light'] & {
        color: $light-text-muted;
      }
    }

    .about-highlights {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: $space-sm $space-md;
      margin-bottom: $space-xl;

      @include mobile {
        grid-template-columns: 1fr;
      }

      .highlight-item {
        display: flex;
        align-items: center;
        gap: $space-sm;
        padding: $space-xs 0;

        .highlight-icon {
          color: var(--accent);
          font-size: 1rem;
          flex-shrink: 0;
        }

        .highlight-text {
          font-size: 0.9rem;
          font-weight: 500;
          letter-spacing: -0.01em;

          [data-theme='dark'] & {
            color: $dark-text;
          }
          [data-theme='light'] & {
            color: $light-text;
          }
        }
      }
    }

    .about-actions {
      display: flex;
      gap: $space-md;

      @include mobile {
        flex-direction: column;
      }

      .btn-primary {
        @include glow-button;
      }

      .btn-outline {
        @include outline-button;
      }
    }
  }
}
